"use strict";(self["webpackChunkdatafication"]=self["webpackChunkdatafication"]||[]).push([[550,727,501,806],{12727:function(e,t,l){l.r(t),l.d(t,{default:function(){return c}});var a=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{display:"inline-block"}},[t("label",{staticClass:"radio-label",staticStyle:{color:"#C0C4CC","font-size":"14px"}},[e._v("选择文件类型 : ")]),t("el-select",{staticStyle:{width:"80px"},model:{value:e.bookType,callback:function(t){e.bookType=t},expression:"bookType"}},e._l(e.options,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)},n=[],o={props:{value:{type:String,default:"xlsx"}},data(){return{options:["xlsx","csv","txt"]}},computed:{bookType:{get(){return this.value},set(e){this.$emit("input",e)}}}},i=o,s=l(1001),r=(0,s.Z)(i,a,n,!1,null,null,null),c=r.exports},55501:function(e,t,l){l.r(t),l.d(t,{default:function(){return c}});var a=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{display:"inline-block"}},[t("label",{staticClass:"radio-label",staticStyle:{"padding-left":"0",color:"#C0C4CC","font-size":"14px"}},[e._v("文件名称 : ")]),t("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入文件名称","prefix-icon":"el-icon-document"},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}})],1)},n=[],o={props:{value:{type:String,default:""}},computed:{filename:{get(){return this.value},set(e){this.$emit("input",e)}}}},i=o,s=l(1001),r=(0,s.Z)(i,a,n,!1,null,null,null),c=r.exports},53550:function(e,t,l){l.r(t),l.d(t,{default:function(){return v}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-container"},[e.showSearch?t("div",{staticClass:"filter-container"},[t("el-form",{staticClass:"form-inline",attrs:{inline:!0,model:e.listQuery}},[t("el-form-item",{attrs:{label:""}},[t("el-input",{attrs:{placeholder:"呼叫器特征码",clearable:"",size:"small"},model:{value:e.listQuery.deviceno,callback:function(t){e.$set(e.listQuery,"deviceno",t)},expression:"listQuery.deviceno"}})],1),t("el-form-item",{attrs:{label:""}},[t("el-input",{attrs:{placeholder:"名称",clearable:"",size:"small"},model:{value:e.listQuery.oldmanname,callback:function(t){e.$set(e.listQuery,"oldmanname",t)},expression:"listQuery.oldmanname"}})],1),t("el-form-item",[t("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.handleFilter}},[e._v("搜索")])],1),t("el-form-item",[t("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"warning",icon:"el-icon-refresh",size:"small"},on:{click:e.handleFilterClear}},[e._v("重置")])],1)],1)],1):e._e(),e.showExport?t("div",{staticClass:"filter-container",staticStyle:{"margin-bottom":"20px"}},[t("FilenameOption",{staticStyle:{"margin-right":"10px"},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}}),t("BookTypeOption",{staticStyle:{"margin-right":"10px"},model:{value:e.bookType,callback:function(t){e.bookType=t},expression:"bookType"}}),t("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{loading:e.downloadLoading,type:"primary",icon:"el-icon-download"},on:{click:e.handleDownload}},[e._v("下载")])],1):e._e(),t("el-row",{staticStyle:{"margin-bottom":"10px"}},[t("el-col",{attrs:{xs:24,sm:24,lg:24}},[t("el-tooltip",{attrs:{content:"刷新",placement:"top"}},[t("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"warning",icon:"el-icon-refresh",circle:""},on:{click:e.handleFilterClear}})],1),t("el-tooltip",{attrs:{content:"搜索",placement:"top"}},[t("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary",icon:"el-icon-search",circle:""},on:{click:function(t){e.showSearch=!e.showSearch}}})],1),t("el-tooltip",{attrs:{content:"Export",placement:"top"}},[t("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{loading:e.downloadLoading,circle:"",type:"primary",icon:"el-icon-download"},on:{click:function(t){e.showExport=!e.showExport}}})],1),t("el-tooltip",{attrs:{content:"首页",placement:"top"}},[t("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"success",icon:"el-icon-s-home",circle:""},on:{click:e.routerPushPush}})],1)],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticClass:"headercellclassname",staticStyle:{width:"100%"},attrs:{data:e.list,stripe:"","row-style":{backgroundColor:"#000e21"},"cell-style":{borderColor:"#000e21"},"header-cell-style":{background:"#011531",borderColor:"#000e21"},border:"",fit:""},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{align:"center",type:"selection",width:"50"}}),t("el-table-column",{attrs:{label:"呼叫器特征码",prop:"deviceno",sortable:"custom",align:"center",width:"200",fixed:"","class-name":e.getSortClass("deviceno")},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.deviceno))])]}}])}),t("el-table-column",{attrs:{label:"名称","min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.oldmanname))])]}}])}),t("el-table-column",{attrs:{label:"联系",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.Contact))])]}}])}),t("el-table-column",{attrs:{label:"性别",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.sex))])]}}])}),t("el-table-column",{attrs:{label:"生日",width:"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.birthday))])]}}])}),t("el-table-column",{attrs:{label:"身份证",width:"200px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.identity_card))])]}}])}),t("el-table-column",{attrs:{label:"健康状态",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.Healthy))])]}}])}),t("el-table-column",{attrs:{label:"子女情况",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.Children_situation))])]}}])}),t("el-table-column",{attrs:{label:"居住情况",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.Residence_state))])]}}])}),t("el-table-column",{attrs:{label:"婚姻状态",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.marital_status))])]}}])}),t("el-table-column",{attrs:{label:"老人类型",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.oldman_type))])]}}])}),t("el-table-column",{attrs:{label:"地址","show-overflow-tooltip":!0,"min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.Address))])]}}])}),t("el-table-column",{attrs:{label:"病史","show-overflow-tooltip":!0,"min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.pathography))])]}}])}),t("el-table-column",{attrs:{label:"过敏史","show-overflow-tooltip":!0,"min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.anaphylactic))])]}}])}),t("el-table-column",{attrs:{label:"其他说明","show-overflow-tooltip":!0,"min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.remark))])]}}])}),t("el-table-column",{attrs:{label:"联系人(1)","show-overflow-tooltip":!0,"min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.lianxiren1))])]}}])}),t("el-table-column",{attrs:{label:"联系人(2)","show-overflow-tooltip":!0,"min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.lianxiren2))])]}}])}),t("el-table-column",{attrs:{label:"联系人(3)","show-overflow-tooltip":!0,"min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.lianxiren3))])]}}])}),t("el-table-column",{attrs:{label:"联系人(4)","show-overflow-tooltip":!0,"min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.lianxiren4))])]}}])}),t("el-table-column",{attrs:{label:"联系人(5)","show-overflow-tooltip":!0,"min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.lianxiren5))])]}}])}),t("el-table-column",{attrs:{label:"联系人(6)","show-overflow-tooltip":!0,"min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.lianxiren6))])]}}])}),t("el-table-column",{attrs:{label:"联系人(7)","show-overflow-tooltip":!0,"min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.lianxiren7))])]}}])}),t("el-table-column",{attrs:{label:"联系人(8)","show-overflow-tooltip":!0,"min-width":"160px"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row.lianxiren8))])]}}])}),t("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(l){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleClick(l.row)}}},[e._v("查看")])]}}])})],1),t("div",{staticClass:"pagination-container"},[t("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{"current-page":e.listQuery.page,"page-sizes":[10,20,30,50],"page-size":e.listQuery.psize,total:e.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),t("userForm",{ref:"fromUser"})],1)},n=[],o=(l(57658),l(63822)),i=l(60555),s=l(40204),r=l(42325),c=l(43806),d=l(55501),u=l(12727),p={name:"User",components:{FilenameOption:d["default"],BookTypeOption:u["default"],userForm:c["default"]},directives:{waves:s.Z},filters:{},computed:{...(0,o.Se)(["jdno"])},data(){return{exportList:[],tableKey:0,list:null,total:null,filename:"",bookType:"xlsx",listLoading:!0,showSearch:!1,showExport:!1,listQuery:{page:1,psize:10,sort:"+deviceno",jdno:"",deviceno:"",oldmanname:""},downloadLoading:!1,pickerOptions:r.Pk}},watch:{},created(){this.fetchList()},methods:{handleClick(e){this.$refs.fromUser.handleCreate(e)},handleSelectionChange(e){e.length>0?(this.exportList=[],this.exportList=e):(this.exportList=[],this.exportList=this.list)},routerPushPush(){this.$router.push({path:"/dashboard"})},fetchList(){this.listLoading=!0,this.listQuery.jdno=this.jdno,(0,i.s0)(this.listQuery).then((e=>{this.list=e.data.data,this.exportList=this.list,this.total=e.data.total,this.listLoading=!1}))},handleFilter(){this.listQuery.page=1,this.fetchList()},sortChange(e){const{prop:t,order:l}=e;"deviceno"===t&&this.sortByID(l)},sortByID(e){this.listQuery.sort="ascending"===e?"+deviceno":"-deviceno",this.handleFilter()},handleFilterClear(){this.listQuery={page:1,psize:10,sort:"+deviceno",jdno:"",deviceno:"",oldmanname:""},this.fetchList()},handleSizeChange(e){this.listQuery.psize=e,this.fetchList()},handleCurrentChange(e){this.listQuery.page=e,this.fetchList()},handleDownload(){this.downloadLoading=!0,l.e(490).then(l.bind(l,45788)).then((e=>{const t=["呼叫器特征码","名称","联系","性别","生日","身份证","机能评估","子女情况","居住情况","婚姻状态","老人类型","地址","病史","过敏史","其他说明","联系人(1)","联系人(2)","联系人(3)","联系人(4)","联系人(5)","联系人(6)","联系人(7)","联系人(8)"],l=["deviceno","oldmanname","Contact","sex","birthday","identity_card","Healthy","Children_situation","Residence_state","marital_status","oldman_type","Address","pathography","anaphylactic","remark","lianxiren1","lianxiren2","lianxiren3","lianxiren4","lianxiren5","lianxiren6","lianxiren7","lianxiren8"],a=this.formatJson(l,this.exportList);e.export_json_to_excel({header:t,data:a,filename:this.filename,bookType:this.bookType}),this.downloadLoading=!1}))},formatJson(e,t){return t.map((t=>e.map((e=>"timestamp"===e?(0,r.TD)(t[e]):t[e]))))},getSortClass:function(e){const t=this.listQuery.sort;return t===`+${e}`?"ascending":t===`-${e}`?"descending":""}}},m=p,f=l(1001),h=(0,f.Z)(m,a,n,!1,null,"06c3a656",null),v=h.exports},43806:function(e,t,l){l.r(t),l.d(t,{default:function(){return c}});var a=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"dataForm",staticStyle:{width:"100%",height:"50vh","overflow-y":"scroll"},attrs:{model:e.temp,"label-position":"right","label-width":"120px"}},[t("el-form-item",{attrs:{label:"呼叫器特征码"}},[t("span",[e._v(e._s(e.temp.deviceno))])]),t("el-form-item",{attrs:{label:"名称"}},[t("span",[e._v(e._s(e.temp.oldmanname))])]),t("el-form-item",{attrs:{label:"联系"}},[t("span",[e._v(e._s(e.temp.Contact))])]),t("el-form-item",{attrs:{label:"性别"}},[t("span",[e._v(e._s(e.temp.sex))])]),t("el-form-item",{attrs:{label:"生日"}},[t("span",[e._v(e._s(e.temp.birthday))])]),t("el-form-item",{attrs:{label:"身份证"}},[t("span",[e._v(e._s(e.temp.identity_card))])]),t("el-form-item",{attrs:{label:"机能评估"}},[t("span",[e._v(e._s(e.temp.Healthy))])]),t("el-form-item",{attrs:{label:"子女情况"}},[t("span",[e._v(e._s(e.temp.Children_situation))])]),t("el-form-item",{attrs:{label:"居住情况"}},[t("span",[e._v(e._s(e.temp.Residence_state))])]),t("el-form-item",{attrs:{label:"婚姻状态"}},[t("span",[e._v(e._s(e.temp.marital_status))])]),t("el-form-item",{attrs:{label:"老人类型"}},[t("span",[e._v(e._s(e.temp.oldman_type))])]),t("el-form-item",{attrs:{label:"地址"}},[t("span",[e._v(e._s(e.temp.Address))])]),t("el-form-item",{attrs:{label:"病史"}},[t("span",[e._v(e._s(e.temp.pathography))])]),t("el-form-item",{attrs:{label:"过敏史"}},[t("span",[e._v(e._s(e.temp.anaphylactic))])]),t("el-form-item",{attrs:{label:"其他说明"}},[t("span",[e._v(e._s(e.temp.remark))])]),t("el-form-item",{attrs:{label:"联系人(1)"}},[t("span",[e._v(e._s(e.temp.lianxiren1))])]),t("el-form-item",{attrs:{label:"联系人(2)"}},[t("span",[e._v(e._s(e.temp.lianxiren2))])]),t("el-form-item",{attrs:{label:"联系人(3)"}},[t("span",[e._v(e._s(e.temp.lianxiren3))])]),t("el-form-item",{attrs:{label:"联系人(4)"}},[t("span",[e._v(e._s(e.temp.lianxiren4))])]),t("el-form-item",{attrs:{label:"联系人(5)"}},[t("span",[e._v(e._s(e.temp.lianxiren5))])]),t("el-form-item",{attrs:{label:"联系人(6)"}},[t("span",[e._v(e._s(e.temp.lianxiren6))])]),t("el-form-item",{attrs:{label:"联系人(7)"}},[t("span",[e._v(e._s(e.temp.lianxiren7))])]),t("el-form-item",{attrs:{label:"联系人(8)"}},[t("span",[e._v(e._s(e.temp.lianxiren8))])])],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1)},n=[],o={name:"UserForm",components:{},data(){return{dialogFormVisible:!1,dialogStatus:"",textMap:{create:""},temp:{}}},watch:{dialogFormVisible:function(){this.resetTemp()}},destroyed(){},methods:{resetTemp(){},handleCreate(e){this.temp=e,this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((()=>{this.$refs["dataForm"].clearValidate()}))}}},i=o,s=l(1001),r=(0,s.Z)(i,a,n,!1,null,null,null),c=r.exports},60555:function(e,t,l){l.d(t,{AM:function(){return i},Fj:function(){return o},s0:function(){return r},vh:function(){return n},w1:function(){return s}});var a=l(84471);function n(e){return(0,a.Z)({url:"/admin/Index/dataIntegration",method:"get",params:{data:e}})}function o(e){return(0,a.Z)({url:"/admin/Index/mapIntegration",method:"post",data:{jdno:e}})}function i(e){return(0,a.Z)({url:"/admin/Index/dateCallsList",method:"post",data:e})}function s(e){return(0,a.Z)({url:"/admin/Index/historyCallsList",method:"post",data:e})}function r(e){return(0,a.Z)({url:"/admin/Index/getPeopleList",method:"post",data:e})}},40204:function(e,t,l){l.d(t,{Z:function(){return s}});const a="@@wavesContext";function n(e,t){function l(l){const a=Object.assign({},t.value),n=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),o=n.ele;if(o){o.style.position="relative",o.style.overflow="hidden";const e=o.getBoundingClientRect();let t=o.querySelector(".waves-ripple");switch(t?t.className="waves-ripple":(t=document.createElement("span"),t.className="waves-ripple",t.style.height=t.style.width=Math.max(e.width,e.height)+"px",o.appendChild(t)),n.type){case"center":t.style.top=e.height/2-t.offsetHeight/2+"px",t.style.left=e.width/2-t.offsetWidth/2+"px";break;default:t.style.top=(l.pageY-e.top-t.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",t.style.left=(l.pageX-e.left-t.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return t.style.backgroundColor=n.color,t.className="waves-ripple z-active",!1}}return e[a]?e[a].removeHandle=l:e[a]={removeHandle:l},l}var o={bind(e,t){e.addEventListener("click",n(e,t),!1)},update(e,t){e.removeEventListener("click",e[a].removeHandle,!1),e.addEventListener("click",n(e,t),!1)},unbind(e){e.removeEventListener("click",e[a].removeHandle,!1),e[a]=null,delete e[a]}};const i=function(e){e.directive("waves",o)};window.Vue&&(window.waves=o,Vue.use(i)),o.install=i;var s=o}}]);