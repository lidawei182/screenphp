(self["webpackChunkdatafication"]=self["webpackChunkdatafication"]||[]).push([[796],{53796:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return yt}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dashboard-editor-container"},[e("div",{staticClass:"datav-container-box",staticStyle:{height:"66%"}},[e("div",{staticClass:"datav-container-left"},[e("div",{staticClass:"datav-container-left-top",staticStyle:{height:"66%"}},[e("dv-border-box-1",{staticStyle:{height:"100%"},attrs:{color:["#01193b","#7c95e8"]}},[e("FrameItem",{attrs:{"call-data":t.calllist,"call-screen-style":t.screenStyle,"number-calls":t.calllistTotal}})],1)],1),e("div",{staticClass:"datav-container-left-top",staticStyle:{"margin-top":"1%"},style:{height:(t.screenStyle,"34%")},attrs:{id:"alineids"}},[e("dv-border-box-6",{staticStyle:{width:"100%",height:"100%"},attrs:{color:["#0931b5","#7c95e8"]}},[e("el-select",{staticClass:"selectDataValue",attrs:{placeholder:"请选择"},on:{change:t.optionschange},model:{value:t.dateValue,callback:function(e){t.dateValue=e},expression:"dateValue"}},t._l(t.options,(function(t){return e("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})})),1),e("div",{staticClass:"total-calls"},[t._v("总共呼叫数量"+t._s(t.calllistCount))]),e("LineDoughnut",{attrs:{"set-interval-get":t.set_interval,"style-flatcake":{},"chart-pie-data":t.callStatistics,"click-ddvaluf":t.clickDdvaluf,"class-name":"alineid","class-names":"alineids"}})],1)],1)]),e("div",{staticClass:"datav-container-right"},[e("dv-border-box-8",{ref:"dvborderbox8ref",staticClass:"datav-container-right-dv-border",staticStyle:{background:"#032f63"},style:{height:(t.screenStyle,"100%")},attrs:{id:"dvborderbox8ref"}},[e("screenfull",{staticClass:"right-menu-item",on:{screenClick:function(e){return t.screenClick(e)}}}),e("MapBaidu",{ref:"MapBaiduref",attrs:{id:"MapBaiduref","map-baidu-data":t.responseData},on:{fixedPosition:t.mapbaiduv}})],1)],1)]),e("div",{staticClass:"datav-container-bottom",staticStyle:{height:"30%"}},[e("div",{staticClass:"datav-box-content-bottom",style:{height:(t.screenStyle,"100%")}},[e("dv-border-box-13",{staticStyle:{width:"20%"}},[e("div",{staticClass:"frame-item-box",attrs:{id:"alineHistogramids"}},[e("div",{staticClass:"frame-item-title-li"},[e("dv-decoration-3",{staticStyle:{width:"68px",height:"25px"}}),e("span",[t._v("年龄/性别分布")])],1),e("LineDoughnut",{attrs:{"set-interval-get":t.set_interval,"style-flatcake":{},"chart-pie-data":t.histogram,"class-name":"alineHistogramid","class-names":"alineHistogramids"}})],1)]),e("dv-border-box-13",{staticStyle:{width:"20%"}},[e("div",{staticClass:"frame-item-box"},[e("div",{staticClass:"frame-item-title-li"},[e("dv-decoration-3",{staticStyle:{width:"68px",height:"25px"}}),e("span",[t._v("居住情况")])],1),e("div",{staticClass:"marriage-amount-to"},[t._v("总计："+t._s(t.total))]),e("PieDoughnut",{attrs:{"set-interval-get":t.set_interval,"style-flatcake":{},"chart-pie-data":t.chartRefererData,"class-name":"refererid"}})],1)]),e("dv-border-box-13",{staticStyle:{width:"20%"}},[e("div",{staticClass:"frame-item-box"},[e("div",{staticClass:"frame-item-title-li"},[e("dv-decoration-1",{staticStyle:{width:"68px",height:"25px"}}),e("span",[t._v("老人类型统计")])],1),e("div",{staticClass:"marriage-amount-to"},[t._v("总计："+t._s(t.total)+"人")]),e("PieDoughnut",{attrs:{"set-interval-get":t.set_interval,"style-flatcake":{},"chart-pie-data":t.statisticsElderlyTypes,"class-name":"refererid"}})],1)]),e("dv-border-box-13",{staticStyle:{width:"20%"}},[e("div",{staticClass:"frame-item-box"},[e("div",{staticClass:"frame-item-title-li"},[e("dv-decoration-3",{staticStyle:{width:"68px",height:"25px"}}),e("span",[t._v("婚姻统计")])],1),e("div",{staticClass:"marriage-amount-to"},[t._v("总计："+t._s(t.total))]),e("PieDoughnut",{attrs:{"set-interval-get":t.set_interval,"style-flatcake":{},"chart-pie-data":t.chartDougData,"class-name":"flatcakeid"}})],1)]),e("dv-border-box-13",{staticStyle:{width:"20%"}},[e("div",{staticClass:"frame-item-box"},[e("div",{staticClass:"frame-item-title-li"},[e("dv-decoration-1",{staticStyle:{width:"68px",height:"25px"}}),e("span",[t._v("健康统计")])],1),e("div",{staticClass:"marriage-amount-to"},[t._v("总计："+t._s(t.total))]),e("div",{staticClass:"frame-look-over-li"},t._l(t.dataHealthy,(function(a,i){return e("div",{key:i,staticStyle:{"line-height":"22px"}},[0==i?e("i",{staticClass:"el-icon-star-on frame-look-over-i",staticStyle:{color:"#3683f6"}}):1==i?e("i",{staticClass:"el-icon-star-on frame-look-over-i",staticStyle:{color:"#fdcf41"}}):2==i?e("i",{staticClass:"el-icon-star-on frame-look-over-i",staticStyle:{color:"#03ae24"}}):3==i?e("i",{staticClass:"el-icon-star-on frame-look-over-i",staticStyle:{color:"#b54501"}}):t._e(),e("span",[t._v(t._s(a.name)+":")]),e("span",[t._v(t._s(a.value)+"人")])])})),0),e("dv-charts",{attrs:{option:t.healthStatistics}})],1)])],1)])])},s=[],n=(a(57658),a(63822)),l=function(){var t=this,e=t._self._c;return e("div",[e("svg-icon",{attrs:{"class-name":t.screenfullSvg,"icon-class":t.isFullscreen?"exit-fullscreen":"fullscreen"},on:{click:t.click}})],1)},r=[],o=a(82192),c=a.n(o),d={name:"ScreenFull",data(){return{isFullscreen:!1,screenfullSvg:"screenfull-svg"}},mounted(){this.init()},methods:{click(){if(!c().isEnabled)return this.$message({message:"you browser can not work",type:"warning"}),!1;c().toggle(),this.$emit("screenClick",this.isFullscreen)},init(){c().isEnabled&&c().on("change",(()=>{this.isFullscreen=c().isFullscreen}))}}},h=d,u=a(1001),m=(0,u.Z)(h,l,r,!1,null,"19004a38",null),p=m.exports;const f=["#5470c6","#91cc75","#eaaf29","#ee6666","#0caae7","#3ba272","#fc8452"];let g=[];var v={chartDougData:{color:f,title:{text:"",left:"3%",top:"7%",textStyle:{fontSize:12,color:"#ffffff",fontWeight:400}},tooltip:{trigger:"item"},legend:{orient:"vertical",textStyle:{color:"#e5e5e5"},top:"30%",right:"14%",itemHeight:10,itemWidth:10,icon:"circle"},series:[{type:"pie",radius:["30%","60%"],avoidLabelOverlap:!1,left:"-24%",bottom:"-16%",label:{show:!0,position:"inner",fontSize:10,color:"#fff",formatter:"{d}%"},emphasis:{label:{show:!0,fontSize:12,fontWeight:"bold"}},labelLine:{show:!1},data:[{value:1048,name:"未婚"},{value:735,name:"已婚"},{value:580,name:"离异"},{value:484,name:"丧偶"},{value:300,name:"未说明"}]}]},chartRefererData:{color:f,title:{text:"",left:"3%",top:"7%",textStyle:{fontSize:12,color:"#ffffff",fontWeight:400}},tooltip:{trigger:"item"},legend:{data:g,icon:"none",top:"7%",right:"6%",textStyle:{color:"rgba(255,255,255,0.9)"}},series:[{name:g,type:"pie",radius:"41%",left:"-6%",bottom:"-15%",emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 1)"}},label:{show:!0,fontSize:12,lineHeight:15,formatter(t){return t.data.name+"\n"+t.data.value+"人"}},data:[{value:148,name:"其他"},{value:735,name:"独居"},{value:180,name:"空巢"},{value:484,name:"与亲戚同居"},{value:300,name:"与子女同居"},{value:200,name:"集中居住"}]},{name:g,type:"pie",radius:"46%",left:"-6%",bottom:"-15%",emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 1)"}},label:{show:!0,position:"inner",fontSize:8,color:"#fff",formatter:"{d}%"},data:[{value:148,name:"其他"},{value:735,name:"独居"},{value:180,name:"空巢"},{value:484,name:"与亲戚同居"},{value:300,name:"与子女同居"},{value:200,name:"集中居住"}]}]},statisticsElderlyTypes:{color:["#5470c6","#a05906","#630781","#02325e","#025e3c"],title:{text:"",left:"3%",top:"7%",textStyle:{fontSize:12,color:"#ffffff",fontWeight:400}},tooltip:{trigger:"item"},legend:{orient:"vertical",textStyle:{color:"#e5e5e5"},top:"30%",right:"10%",itemHeight:10,itemWidth:10,icon:"triangle"},series:[{type:"pie",radius:["15%","85%"],center:["35%","60%"],roseType:"area",itemStyle:{borderRadius:8},label:{show:!0,position:"inner",fontSize:12,formatter(t){return t.data.value+"人"}},data:[{value:1048,name:"特困老人"},{value:735,name:"独居老人"},{value:580,name:"失婚老人"},{value:484,name:"低保老人"},{value:300,name:"其他"}]}]},healthStatistics:{series:[{center:["42%","60%"],type:"pie",data:[{name:"能力完好",value:203,radius:["40%","53%"]},{name:"轻度失能",value:65,radius:["32%","45%"]},{name:"中度失能",value:32,radius:["31%","47%"]},{name:"重度失能",value:44,radius:["31%","42%"]}],outsideLabel:{labelLineEndLength:20,formatter:"{percent}%\n{name}",style:{fill:"#fff",fontSize:12}}},{center:["42%","60%"],type:"pie",data:[{value:10,radius:["60%","63%"]}],outsideLabel:{show:!1},pieStyle:{fill:"rgba(255, 255, 255, 0.2)"}},{center:["42%","60%"],type:"pie",data:[{value:10,radius:["56%","57%"]}],outsideLabel:{show:!1},pieStyle:{fill:"rgba(255, 255, 255, 0.2)"}}],color:["#3683f6","#fdcf41","#03ae24","#b54501"]},test:()=>"test"},y={lineData:{title:{textStyle:{color:"#ffffff"},text:""},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{show:!1},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLabel:{show:!0,color:"#ffffff",fontSize:8}}],yAxis:[{type:"value",axisLabel:{show:!0,color:"#ffffff",fontSize:6}}],series:[{name:"Direct",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[320,332,301,334,390,330,320]},{name:"Search Engine",type:"line",stack:"Total",label:{show:!0,color:"#fff",fontSize:6,position:"top"},areaStyle:{color:"#73c0de"},emphasis:{focus:"series"},data:[820,932,901,934,1290,1330,1320]}]},test:()=>"test"},b=a(1708),w=a.n(b);const S=["#5470c6","#fac858","#ee6666","#73c0de","#73c0de","#3ba272","#fc8452"];a(53630);let _=[],x=0,C="";x=806,C="男"+x+"人";let D=0,k=0;D=265,k="女"+D+"人",_=[C,k];var M={lineData:{color:S,title:{text:"",left:"10%",top:"3%",textStyle:{fontSize:12,color:"#ffffff",fontWeight:200}},tooltip:{trigger:"axis"},legend:{data:_,icon:"circle",top:"25px",right:"5%",textStyle:{color:"rgba(255,255,255,0.9)"}},toolbox:{show:!1},grid:{x:0,y:"30%",width:"100%",height:"60%",backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},xAxis:[{type:"category",data:["60以下","60-70","70-80","80-90","90以上"],axisLabel:{show:!0,color:"rgba(255,255,255,0.9)",fontSize:12}}],yAxis:[{type:"value",axisLabel:{show:!0,color:"rgba(255,255,255,0.9)",fontSize:12},splitLine:{show:!0,lineStyle:{color:["rgba(255,255,255,0.2)"],width:1,type:"dashed"}}}],series:[{name:C,type:"bar",label:{show:!0},emphasis:{focus:"series"},data:[200,346,80,80,100],markPoint:{data:[{type:"max",name:"Max"},{type:"min",name:"Min"}]},showBackground:!0,itemStyle:{color:new(w().graphic.LinearGradient)(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])},backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}},{name:k,type:"bar",label:{show:!0},emphasis:{focus:"series"},data:[90,10,45,40,80],markPoint:{data:[{type:"max",name:"Max"},{type:"min",name:"Min"}]},showBackground:!0,itemStyle:{color:new(w().graphic.LinearGradient)(0,0,0,1,[{offset:0,color:"#fcabab"},{offset:.5,color:"#e03737"},{offset:1,color:"#b01717"}])},backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}]},test:()=>"test"};const I=["#fcf91c","#d45704"];var O={lineData:{animation:!0,color:I,title:{text:"呼叫统计",left:"1%",top:"7.5%",textStyle:{fontSize:12,color:"#ffffff",fontWeight:200}},tooltip:{trigger:"axis"},legend:{right:"2%",top:"7%",data:["总共呼叫数量","异常挂断"],textStyle:{color:"rgba(255,255,255,0.9)"}},toolbox:{show:!1},grid:{x:42,y:"26%",width:"88%",height:"62%",backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},xAxis:[{type:"category",boundaryGap:!1,data:["0-3","3-6","6-9","9-12","12-15","15-18","18-21","21-24"],axisLabel:{show:!0,color:"rgba(255,255,255,0.9)",fontSize:10}}],yAxis:[{type:"value",axisLabel:{show:!0,color:"rgba(255,255,255,0.9)",fontSize:12},splitLine:{show:!0,lineStyle:{color:["rgba(255,255,255,0.2)"],width:1,type:"dashed"}}}],series:[{name:"总共呼叫数量",type:"line",animationDurationUpdate:1e3,animationEasingUpdate:"quinticInOut",label:{show:!0},stack:"Total",smooth:!0,areaStyle:{},emphasis:{focus:"series"},data:[30,25,112,266,90,230,110,80,90,230,110,80]},{name:"异常挂断",type:"line",animationDurationUpdate:1e3,animationEasingUpdate:"quinticInOut",stack:"Total",smooth:!0,areaStyle:{},emphasis:{focus:"series"},data:[200,110,132,226,90,300,10,80,90,230,110,80]}]},test:()=>"test"},P=function(){var t=this,e=t._self._c;return e("div",{staticClass:"map-baidu"},[e("div",{staticClass:"set-up",on:{click:t.setupMapPositioning}},[e("span",[t._v("设置中心点")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.positioningMap,expression:"positioningMap"}],staticClass:"positioning-map"},[e("span",{staticClass:"parallelogram",on:{click:t.submitPositioning}},[t._v("保存")]),e("span",{staticClass:"parallelogram",on:{click:t.submitPositioningupdata}},[t._v("取消")])]),t.pointCnot?e("dv-border-box-5",{directives:[{name:"show",rawName:"v-show",value:t.positioningMap,expression:"positioningMap"}],staticClass:"positioning-map-item-dv-border-box",attrs:{color:["#7c95e8","#345ffc"],backgroundColor:"rgba(6,51,218,0.5)"}}):t._e(),t.pointCnot?e("div",{directives:[{name:"show",rawName:"v-show",value:t.positioningMap,expression:"positioningMap"}],staticClass:"positioning-map-item"},[e("div",[t._v("经纬度lng : "+t._s(t.pointCnot.lng))]),e("div",[t._v("经纬度lat : "+t._s(t.pointCnot.lat))]),e("div",[t._v("显示级别 : "+t._s(t.pointLevelCnot))])]):t._e()],1),e("div",{staticClass:"map-top-const map-top-const-box"},[e("span",{staticStyle:{color:"#22eb47"}},[t._v("在线设备数"+t._s(t.isonlinemaphave)+"  ")]),e("span",{staticStyle:{color:"#aaa9a9"}},[t._v("离线设备数"+t._s(t.isonlinemapnot)+"  ")]),e("span",[t._v("总设备数"+t._s(t.constmap))])]),e("dv-loading",{directives:[{name:"show",rawName:"v-show",value:t.loadingMap,expression:"loadingMap"}],staticClass:"loading-map"},[t._v("加载...")]),e("div",{ref:"mapContainer",attrs:{id:"mapContainer"}})],1)},z=[],F=a(60555),L=a(23518);function B(t,e,a,i,s){this._map=i,this._point=t,this._text=e,this._overText=a,this._statushowSum=s}B.prototype=new BMap.Overlay,B.prototype.initialize=function(){let t=this._map;this._div=document.createElement("div");let e=this._div;e.style.position="absolute",e.style.zIndex=BMap.Overlay.getZIndex(this._point.lat),0==this._statushowSum?(e.style.backgroundColor="#aaa9a9",e.style.border="1px solid #a4a3a3",e.style.color="#4c4c4c"):(e.style.backgroundColor="#209b36",e.style.border="1px solid #129129",e.style.color="#fff"),e.style.padding="0 3px",e.style.lineHeight="18px",e.style.whiteSpace="nowrap",e.style.MozUserSelect="none",e.style.fontSize="12px",e.style.borderRadius="4px";let a=this._span=document.createElement("span");e.appendChild(a),a.appendChild(document.createTextNode(this._text)),this._arrow=document.createElement("div");let i=this._arrow;return i.style.background="url(./img/label.png) no-repeat",i.style.position="absolute",i.style.width="11px",i.style.height="10px",i.style.top="18px",i.style.left="10px",i.style.overflow="hidden",0==this._statushowSum?i.style.backgroundPosition="0px -29px":i.style.backgroundPosition="0px -19px",e.appendChild(i),t.getPanes().labelPane.appendChild(e),e},B.prototype.draw=function(){let t=this._map,e=t.pointToOverlayPixel(this._point);this._div.style.left=e.x-parseInt(this._arrow.style.left)+"px",this._div.style.top=e.y-30+"px"};var E={name:"MapBaidu",props:{mapBaiduData:{type:Array,required:[]},className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"100%"}},computed:{...(0,n.Se)(["jdno","id","code"])},data(){return{constmap:0,isonlinemaphave:0,isonlinemapnot:0,onMapShow:!1,loadingMap:!1,positioningMap:!1,updataIndex:0,markerArr:[],timerMapInterval:"",responseData:[],map:"",point:"",pointLevel:8,pointCnot:"",pointLevelCnot:8,lng:0,lat:0}},watch:{mapBaiduData:{handler:function(){},immediate:!0,deep:!0}},created(){},destroyed(){},mounted(){this.$nextTick((()=>{this.getnative(),this.getMapPg()}))},beforeDestroy(){let t=this;clearInterval(t.timerMapInterval),t.timerMapInterval=""},methods:{init(){let t=this.$refs.mapContainer,e=new BMap.Map(t),a=new BMap.Point(116.404,39.915);e.centerAndZoom(a,8)},getMapPg(){let t=this;(0,F.Tt)({id:this.id}).then((e=>{t.lng=e.data.lng,t.lat=e.data.lat,t.pointLevelCnot=e.data.zoom}))},submitPositioning(){let t=this,e={id:this.id+"",lng:this.pointCnot.lng+"",lat:this.pointCnot.lat+"",zoom:this.pointLevelCnot+""};(0,F.oR)(e).then((e=>{if(1==e.status){t.$message({message:"成功",type:"success"});let e=this.map.getOverlays();t.map.removeOverlay(e[this.updataIndex]),t.onMapShow=!1,t.updataIndex=0}else t.$message.error("失败")}))},submitPositioningupdata(){let t=this;if(this.updataIndex>0){let e=this.map.getOverlays();this.map.removeOverlay(e[this.updataIndex]),this.onMapShow=!1,this.updataIndex=0,(0,F.pj)({id:this.id}).then((e=>{1==e.status?t.$message({message:"成功",type:"success"}):t.$message.error("失败")}))}else(0,F.pj)({id:this.id}).then((e=>{1==e.status?t.$message({message:"成功",type:"success"}):t.$message.error("失败")}))},setupMapPositioning(){this.positioningMap=!this.positioningMap},getnative(){let t,e,a,i=this,s=this.$refs.mapContainer,n=new BMap.Geocoder,l=new BMap.LocalCity;l.get((function(l){e=l.center.lng,t=l.center.lat,a=l.name,n.getLocation(l.center,(function(){i.$emit("fixedPosition",{cityname:a,lng:e,lat:t});let n=new BMap.Map(s),l=new BMap.Point(e,t);i.point=l,i.pointLevel=8,n.centerAndZoom(i.point,i.pointLevel),i.changeMapStyle(n),n.enableScrollWheelZoom(!0);let r=new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_RIGHT,type:BMAP_NAVIGATION_CONTROL_LARGE});n.addControl(r);let o=new BMap.OverviewMapControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,isOpen:1});n.addControl(o);let c=new window.BMap.ScaleControl({anchor:BMAP_ANCHOR_BOTTOM_LEFT});n.addControl(c);let d=new BMap.CityListControl;n.addControl(d),i.map=n,i.getMapIntegration(),n.addEventListener("click",(function(t){if(!i.positioningMap)return!1;if(i.markerArr.length<0)return!1;if(i.loadingMap=!0,i.pointCnot=t.point,i.onMapShow){let e=i.map.getOverlays();for(let a=0;e.length>a;a++)if(e[a].K&&"中心坐标"==e[a].K.title){i.map.removeOverlay(e[a]);let s=new BMap.Marker(new BMap.Point(t.point.lng,t.point.lat),{title:"中心坐标"});i.map.addOverlay(s),i.loadingMap=!1}i.getOverlaySum(i.map.getOverlays())}else{i.onMapShow=!0;let e=new BMap.Marker(new BMap.Point(t.point.lng,t.point.lat),{title:"中心坐标"});i.map.addOverlay(e),i.getOverlaySum(i.map.getOverlays())}i.loadingMap=!1})),n.addEventListener("zoomend",(function(){let t=i.map.getZoom();i.pointLevelCnot=t})),i.timerMapInterval=setInterval((()=>{L.log("五分钟地图"),i.getMapIntegration()}),3e5)}))}))},getOverlaySum(t){for(let e=0;t.length>e;e++)t[e].K&&"中心坐标"==t[e].K.title&&(this.updataIndex=e)},async getMapIntegration(){let t=this;t.responseData=await t.mapIntegrationdata(),t.markerArr=t.responseData,t.constmap=t.markerArr.length,t.getmarkerArr(t.markerArr)},async mapIntegrationdata(){let t=this,e=[];return new Promise((a=>{(0,F.Fj)(t.code).then((t=>{if(1==t.status){let i=t.data.tree;for(let t=0;i.length>t;t++)if(null!=i[t].longitude1){let a={title:i[t].oldmanname,point:i[t].longitude1+","+i[t].latitude1,address:i[t].Address,tel:"",isonline:i[t].isonline};e.push(a)}a(e)}}))}))},getmarkerArr(t){let e=this;return new Promise((a=>{this.$nextTick((()=>{let i=t,s=[],n=[];for(let t=0;t<i.length;t++){let a=i[t].point.split(",")[0],n=i[t].point.split(",")[1];if(s.push({longitude:a,latitude:n}),"在线"!=i[t].isonline){e.isonlinemapnot++;let s=e.addMarkerDisconnect(new window.BMap.Point(a,n),i[t],e.map);e.addInfoWindow(s,i[t])}else{e.isonlinemaphave++;let s=e.addMarker(new window.BMap.Point(a,n),i[t],e.map);e.addInfoWindow(s,i[t])}}if(s.forEach((t=>{n.push(new BMap.Point(Number(t.longitude),Number(t.latitude)))})),this.lng&&this.lat){let t=new BMap.Point(parseFloat(this.lng),parseFloat(this.lat));this.map.centerAndZoom(t,this.pointLevelCnot)}else{const t=this.map.getViewport(n);this.map.centerAndZoom(t.center,t.zoom)}a(!0)}))}))},addMarker(t,e,a){let i=new BMap.Icon("./img/markers.png",new BMap.Size(23,25),{offset:new BMap.Size(10,25),imageOffset:new BMap.Size(0,-325)}),s=new BMap.Marker(t,{title:e.title,icon:i});a.addOverlay(s);let n=new B(t,e.title,e.address,a,1);return a.addOverlay(n),s},addMarkerDisconnect(t,e,a){let i=new BMap.Icon("./img/markers.png",new BMap.Size(23,25),{offset:new BMap.Size(10,25),imageOffset:new BMap.Size(0,-350)}),s=new BMap.Marker(t,{title:e.title,icon:i});a.addOverlay(s);let n=new B(t,e.title,e.address,a,0);return a.addOverlay(n),s},addInfoWindow(t,e){let a='<div style="font-weight:bold;color:#CE5521;font-size:14px">'+e.title+"</div>",i=[];i.push('<table cellspacing="0" style="table-layout:fixed;width:100%;font:12px arial,simsun,sans-serif"><tbody>'),i.push("<tr>"),i.push('<td style="vertical-align:top;line-height:16px;width:38px;white-space:nowrap;word-break:keep-all">地址:</td>'),i.push('<td style="vertical-align:top;line-height:16px">'+e.address+" </td>"),i.push("</tr>"),i.push("</tbody></table>");let s=new BMap.InfoWindow(i.join(""),{title:a,width:200}),n=function(){t.openInfoWindow(s)};return t.addEventListener("click",n),n},changeMapStyle(t){let e={features:["road","building","water","land"],style:"midnight"};t.setMapStyle(e)}}},R=E,H=(0,u.Z)(R,P,z,!1,null,null,null),A=H.exports,N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flatcake",style:t.styleFlatcake},[e("div",{ref:t.className,style:{height:t.height},attrs:{id:t.className}})])},T=[],j=a(23518);a(53630);var $={name:"PieDoughnut",props:{styleFlatcake:{type:Object,required:!0},className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"100%"},autoResize:{type:Boolean,default:!0},chartPieData:{type:Object,required:!0},setIntervalGet:{type:Number,required:6e4}},data(){return{chartPieDatais:this.chartPieData,piemyChart:""}},watch:{chartPieData:{handler:function(t){let e=this;e.chartPieDatais=t;try{e.piemyChart.setOption&&e.piemyChart.setOption(e.chartPieDatais)}catch(a){j.log(a)}},immediate:!0,deep:!0}},created(){},destroyed(){},mounted(){let t=this;this.$nextTick((()=>{let e=this.$refs[this.className];this.piemyChart=w().init(e,null,{renderer:"canvas",useDirtyRect:!1}),this.piemyChart.setOption(this.chartPieDatais),window.addEventListener("resize",t.piemyChart.resize)}))},methods:{aroundflatcake(t){let e=this.$refs[this.className];this.piemyChart=w().init(e,null,{renderer:"canvas",useDirtyRect:!1});let a=t;a&&"object"===typeof a&&this.piemyChart.setOption(a),window.addEventListener("resize",this.piemyChart.resize)}}},Z=$,V=(0,u.Z)(Z,N,T,!1,null,null,null),W=V.exports,q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ilencake",style:t.styleFlatcake},[e("div",{ref:t.className,style:{height:t.height},attrs:{id:t.className}})])},G=[],J=a(23518);a(53630);var U={name:"LineDoughnut",props:{styleFlatcake:{type:Object,required:!0},className:{type:String,default:"chart"},classNames:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"100%"},autoResize:{type:Boolean,default:!0},chartPieData:{type:Object,required:!0},setIntervalGet:{type:Number,required:6e4},clickDdvaluf:{type:String,default:"月"}},data(){return{myChart:"",dom:"",chartlienDatais:this.chartPieData}},watch:{chartPieData:{handler:function(t){let e=this;e.chartlienDatais=t;try{e.myChart.setOption&&(e.myChart.setOption(e.chartlienDatais),e.myChart.hideLoading())}catch(a){J.log(a)}},immediate:!0,deep:!0},clickDdvaluf:{handler:function(){let t=this;try{t.myChart.setOption&&t.myChart.showLoading({text:"数据正在努力加载...",color:"#ccc",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.3)",zlevel:0})}catch(e){J.log(e)}},immediate:!0,deep:!0}},created(){},destroyed(){},mounted(){let t=this;t.$nextTick((()=>{t.dom=t.$refs[t.className],t.myChart=w().init(t.dom,null,{renderer:"canvas",useDirtyRect:!1}),t.myChart.setOption(t.chartlienDatais),window.addEventListener("resize",t.myChart.resize)}))},methods:{aroundflatcake(){let t=this.$refs[this.className],e=w().init(t,null,{renderer:"canvas",useDirtyRect:!1}),a=this.chartPieData;a&&"object"===typeof a&&e.setOption(a),window.addEventListener("resize",e.resize)}}},Y=U,K=(0,u.Z)(Y,q,G,!1,null,null,null),X=K.exports,Q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"frame-item-container-conter"},[e("div",{staticClass:"frame-item-text"},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("dv-decoration-6",{staticStyle:{width:"6vh",height:"2vh"}}),e("span",[t._v("报警通知")])],1),e("span",[t._v("当前呼叫 "+t._s(t.numberCallsNumber))]),e("span",{on:{click:function(e){return t.clickLink(t.routePath,t.basePath,e)}}},[e("el-link",{attrs:{type:"primary"}},[t._v("更多")])],1)]),e("div",{staticClass:"frame-item-container"},t._l(t.dataFrameItem,(function(a,i){return e("dv-border-box-2",{key:i,staticStyle:{width:"46%"},style:{height:(t.screenStyle,"7vh")},attrs:{color:["#0931b5","#7c95e8"]}},[e("alertInformation",{attrs:{"alert-information-data":a}})],1)})),1)])},tt=[],et=a(21530),at=a.n(et),it=a(89176),st=function(){var t=this,e=t._self._c;return e("div",{staticClass:"alert-notification-container"},[e("span",{staticClass:"alert-notification-title"},[t._v(t._s(t.alertInformationData.oldmanname))]),"无报警通知"!=t.alertInformationData.oldmanname?e("ul",{staticClass:"alert-notification-ul"},[e("li",[t.alertInformationData.Address?e("span",[t._v("地址 ：")]):t._e(),t._v(t._s(t.alertInformationData.Address)+" ")]),e("li",[e("div",{staticClass:"alert-notification-date"},[e("div",{staticClass:"calltime-police"},[e("span",[t._v("警报 ：")]),e("span",[t._v(t._s(t._f("calltimeFilter")(t.alertInformationData.calltime)))])])])]),e("li",{staticClass:"alert-notification-below"},["呼叫"==t.alertInformationData.status&&t.alertInformationData.calltime&&t.alertInformationData.taketime?e("div",{staticClass:"alert-notification-processed",staticStyle:{color:"#22eb47"}},[t._v(" "+t._s(t.alertInformationData.status)+"中 ")]):"呼叫"==t.alertInformationData.status&&t.alertInformationData.calltime?e("div",{staticClass:"alert-notification-processed",staticStyle:{color:"#22eb47"}},[t._v(" "+t._s(t.alertInformationData.status)+" ")]):"拉绳"==t.alertInformationData.status&&t.alertInformationData.calltime&&t.alertInformationData.taketime?e("div",{staticClass:"alert-notification-processed",staticStyle:{color:"#22eb47"}},[t._v(" "+t._s(t.alertInformationData.status)+"中 ")]):"拉绳"==t.alertInformationData.status&&t.alertInformationData.calltime?e("div",{staticClass:"alert-notification-processed",staticStyle:{color:"#22eb47"}},[t._v(" "+t._s(t.alertInformationData.status)+" ")]):"挂断"==t.alertInformationData.status&&null==t.alertInformationData.taketime||null==t.alertInformationData.endtime&&""==t.alertInformationData.taketime||""==t.alertInformationData.endtime?e("div",{staticClass:"alert-notification-processed"},[t._v(" 异常挂断 ")]):e("div",{staticClass:"alert-notification-processed"},[t._v(" "+t._s(t.alertInformationData.status)+" ")])])]):e("div",[e("dv-decoration-4",{staticStyle:{width:"10vh",height:"1vh","margin-left":"2vh"},attrs:{reverse:!0}})],1)])},nt=[],lt={name:"AlertInformation",filters:{calltimeFilter(t){let e=t;return e=e?t.slice(-8):"",e}},props:{alertInformationData:{type:Object,default:function(){return{}}}},data(){return{}},mounted(){},methods:{}},rt=lt,ot=(0,u.Z)(rt,st,nt,!1,null,"f1b9cd4c",null),ct=ot.exports,dt={name:"FrameItem",components:{alertInformation:ct},props:{numberCalls:{type:Number,default:function(){return 0}},callData:{type:Array,required:[]},callScreenStyle:{type:Boolean,default:!0},className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"100%"}},data(){return{routePath:"callslist",basePath:"/call",dataFrameItem:[],dataItem:{oldmanname:"无报警通知",status:"",Address:"",calltime:"",taketime:""},screenStyle:!0,framoffsetHeight:0,numberCallsNumber:0}},watch:{callData:{handler:function(t){this.dataFrameItem=t;let e=this;e.framoffsetHeight=document.body.offsetHeight,e.framoffsetHeight>800?e.forHeight(10):e.forHeight(8)},immediate:!0,deep:!0},callScreenStyle:{handler:function(t){this.screenStyle=t},immediate:!0,deep:!0},numberCalls:{handler:function(t){this.numberCallsNumber=t},immediate:!0,deep:!0}},created(){},destroyed(){},mounted(){let t=this;t.$nextTick((()=>{t.numberCallsNumber=t.numberCalls,t.onresizeForHeight()}))},methods:{onresizeForHeight(){let t=this;t.framoffsetHeight=document.body.offsetHeight,t.framoffsetHeight>800?t.forHeight(10):t.forHeight(8),window.onresize=()=>(()=>{t.framoffsetHeight=document.body.offsetHeight,t.framoffsetHeight>800?t.forHeight(10):t.forHeight(8)})()},forHeight(t){let e=this;for(let a=0;t>a;a++)a==e.dataFrameItem.length&&a<t&&(e.dataFrameItem[a]=e.dataItem)},resolvePath(t,e){return at().resolve(t,e)},isExternalLink(t){return(0,it.r4)(t)},clickLink(t,e,a){if(!this.isExternalLink(t)){a.preventDefault();const i=this.resolvePath(e,t);this.$router.push(i)}}}},ht=dt,ut=(0,u.Z)(ht,Q,tt,!1,null,null,null),mt=ut.exports,pt=a(23518),ft={name:"DashboardAdmin",components:{Screenfull:p,MapBaidu:A,PieDoughnut:W,LineDoughnut:X,FrameItem:mt},computed:{...(0,n.Se)(["group","jdno","code","dashboardDateValue"])},data(){return{ws:"",framoffsetHeight:0,calllistTotal:0,timerSetInterval:"",get_month:[],themoonarraylist:[],timecalllist:[],calllistCount:0,calllist:[],dataHealthy:[],responseData:[],total:0,set_interval:24e4,screenStyle:!0,pieConfig:v,lineConfig:y,histogramConfig:M,callStatisticsConfig:O,chartDougData:{},chartRefererData:{},histogram:{},callStatistics:{},statisticsElderlyTypes:{},healthStatistics:{},options:[{name:"月",value:"1"},{name:"年",value:"2"}],dateValue:"月",clickDdvaluf:"月",changingIsoverModel:["0"],changingIsover:[{value:"1",label:"沈阳",children:[{value:"shejiyuanze",label:"沈北新区",children:[{value:"yizhi",label:"小区1"},{value:"fankui",label:"小区2"}]},{value:"shejiyuanze",label:"浑南区",children:[{value:"yizhi",label:"小区1"},{value:"fankui",label:"小区2"},{value:"fankui",label:"小区3"}]}]}]}},mounted(){this.callStatistics=O.lineData,this.histogram=M.lineData,this.chartRefererData=this.pieConfig.chartRefererData,this.statisticsElderlyTypes=v.statisticsElderlyTypes,this.chartDougData=this.pieConfig.chartDougData,this.healthStatistics=v.healthStatistics,this.framoffsetHeight=document.body.offsetHeight,this.framoffsetHeight>800?(this.callStatistics.grid.height="62%",this.callStatistics.grid.y="26%",this.histogram.grid.height="60%",this.histogram.grid.y="30%",this.histogram.legend.top="25px"):(this.callStatistics.grid.height="48%",this.callStatistics.grid.y="34%",this.histogram.grid.height="45%",this.histogram.grid.y="40%",this.histogram.legend.top="35px");let t=this;t.iniIntegration(),t.timerSetInterval=setInterval((()=>{t.iniIntegration()}),t.set_interval)},created(){},beforeDestroy(){let t=this;clearInterval(t.timerSetInterval),t.timerSetInterval=""},methods:{_WebSocketphp(){const t=this;t.ws=new WebSocket(wsurl),t.ws.onopen=function(){t.$notify({title:"提示",message:"连接成功",type:"success"});let e={type:"login"};e.room_id=t.jdno,e.client_name=t.group,t.ws.send(JSON.stringify(e));let a={type:"push"};a.room_id=t.jdno,a.client_name=t.group,t.ws.send(JSON.stringify(a))},t.ws.onmessage=function(e){if(!e.data)return!1;let a=JSON.parse(e.data);"push"==a.type&&("ok"===a.status?(t.calllist=a.list,t.calllistTotal=a.total[0].total):(t.calllist=[],t.calllistTotal=0))}},MapApiResize(){this.$nextTick((()=>{let t=document.getElementById("dvborderbox8ref"),e=document.getElementById("MapBaiduref");this.dvborderboxssize(t,e)}))},dvborderboxssize(t,e){function a(t){return window.getComputedStyle?window.getComputedStyle(t,null):t.currentStyle}let i=a(t,"width").width,s=i.indexOf("p"),n=i.substr(0,s);n-=.007*n,n+="px",e.style.width=n},iniIntegration(){let t=this,e=JSON.stringify(this.themoonarraylist);this.dateValue=this.dashboardDateValue,"月"==this.dateValue&&(t.themoon(),e=JSON.stringify(this.themoonarraylist)),"年"==this.dateValue&&(this.getMonthData(),e=this.get_month);let a={jdno:this.jdno,code:this.code,dateValue:this.dateValue,themoonarraylist:e};(0,F.vh)(JSON.stringify(a)).then((e=>{if(1==e.status){let a=e.data.tree,i=e.data.calllist,s=e.data.calllistTotal;t.calllist=i,t.calllistTotal=s;let n=e.data.themoonCount,l=e.data.themoonAbnormal,r=[],o=[];t.calllistCount=0;for(let e=0;n.length>e;e++)r.push(n[e].counts),t.calllistCount+=n[e].counts;for(let t=0;l.length>t;t++)o.push(l[t].counts);t.callStatistics.series[0].data=r,t.callStatistics.series[1].data=o,t.total=a.length,t.setarrayResidence(a)}}))},themoon(){let t=new Array(31).fill(0).map(((t,e)=>new Date((new Date).getTime()-864e5*e).toLocaleDateString().replace(/,/g,"-"))).reverse(),e=[],a=[],i=[],s=[],n=[],l=[],r=[],o=[];for(let y=0;t.length>y;y++)y<4&&e.push(t[y]),y>=4&&y<8&&a.push(t[y]),y>=8&&y<12&&i.push(t[y]),y>=12&&y<16&&s.push(t[y]),y>=16&&y<20&&n.push(t[y]),y>=20&&y<24&&l.push(t[y]),y>=24&&y<28&&r.push(t[y]),y>=28&&y<32&&o.push(t[y]);let c=e[0].slice(5,9)+"至"+e[e.length-1].slice(5,9),d=a[0].slice(5,9)+"至"+a[a.length-1].slice(5,9),h=i[0].slice(5,9)+"至"+i[i.length-1].slice(5,9),u=s[0].slice(5,9)+"至"+s[s.length-1].slice(5,9),m=n[0].slice(5,9)+"至"+n[n.length-1].slice(5,9),p=l[0].slice(5,9)+"至"+l[l.length-1].slice(5,9),f=r[0].slice(5,9)+"至"+r[r.length-1].slice(5,9),g=o[0].slice(5,9)+"至"+o[o.length-1].slice(5,9),v=[[e[0],e[e.length-1]],[a[0],a[a.length-1]],[i[0],i[i.length-1]],[s[0],s[s.length-1]],[n[0],n[n.length-1]],[l[0],l[l.length-1]],[r[0],r[r.length-1]],[o[0],o[o.length-1]]];this.callStatistics.xAxis[0].data=[c,d,h,u,m,p,f,g],this.themoonarraylist=v},getMonthData(){let t=this.getMonth(),e=[],a=[],i=[],s=[],n=[],l=[],r=[],o=[],c=[],d=[],h=[],u=[];for(let y=0;t.length>y;y++)y<2&&e.push(t[y]),y>=1&&y<3&&a.push(t[y]),y>=2&&y<4&&i.push(t[y]),y>=3&&y<5&&s.push(t[y]),y>=4&&y<6&&n.push(t[y]),y>=5&&y<7&&l.push(t[y]),y>=6&&y<8&&r.push(t[y]),y>=7&&y<9&&o.push(t[y]),y>=8&&y<10&&c.push(t[y]),y>=9&&y<11&&d.push(t[y]),y>=10&&y<12&&h.push(t[y]),y>=11&&y<13&&u.push(t[y]);let m=new Date((new Date).getTime()+2592e6),p=m.getFullYear(),f=m.getMonth()+1;f=f<10?"0"+f:f;let g=p+"-"+f;u.push(g);let v=[e,a,i,s,n,l,r,o,c,d,h,u];this.callStatistics.xAxis[0].data=t,this.get_month=v},getMonth(){var t=[],e=new Date;e.getFullYear();e.setMonth(e.getMonth()+1,1);for(var a=0;a<12;a++){e.setMonth(e.getMonth()-1);var i=e.getMonth()+1;i=i<10?"0"+i:i,t.push(e.getFullYear()+"-"+i)}return t.reverse()},optionschange(t){let e=this;this.dateValue=t,this.clickDdvaluf=t,this.$store.commit("SET_DDVALUE",this.dateValue);let a=JSON.stringify(this.themoonarraylist);"月"==this.dateValue&&(this.themoon(),a=JSON.stringify(this.themoonarraylist)),"年"==this.dateValue&&(this.getMonthData(),a=this.get_month);let i={jdno:this.jdno,code:this.code,dateValue:this.dateValue,themoonarraylist:a};(0,F.vh)(JSON.stringify(i)).then((t=>{if(1==t.status){let a=t.data.themoonCount,i=t.data.themoonAbnormal,s=[],n=[];e.calllistCount=0;for(let t=0;a.length>t;t++)s.push(a[t].counts),e.calllistCount+=a[t].counts;for(let t=0;i.length>t;t++)n.push(i[t].counts);e.callStatistics.series[0].data=s,e.callStatistics.series[1].data=n}}))},analyzeIDCard(t){var e={};parseInt(t.substr(16,1))%2==1?e.sexCode="男":e.sexCode="女";var a=t.substring(6,10),i=t.substring(10,12),s=t.substring(12,14),n=a+"-"+i+"-"+s,l=new Date,r=l.getMonth()+1,o=l.getDay(),c=l.getFullYear()-a;return(r<i||r==i&&o<s)&&c--,e.birthDate=n,e.age=c,e},GetAge(t){var e=(t+"").length;if(0==e)return 0;if(15!=e&&18!=e)return 0;var a="";18==e&&(a=t.substr(6,4)+"/"+t.substr(10,2)+"/"+t.substr(12,2)),15==e&&(a="19"+t.substr(6,2)+"/"+t.substr(8,2)+"/"+t.substr(10,2));var i=new Date(a),s=new Date,n=s.getFullYear()-i.getFullYear();return(s.getMonth()<i.getMonth()||s.getMonth()==i.getMonth()&&s.getDate()<i.getDate())&&n--,n},setarrayResidence(t){let e=this,a=[],i=[],s=[],n=[],l=[],r=[],o=[],c=[],d=[],h=[],u=[],m=[],p=[],f=[],g=[],v=[],y=[],b=[],w=[],S=[],_=[],x=[],C=[],D=[];e.responseData=[];for(let F=0;t.length>F;F++){let k={title:t[F].oldmanname,point:t[F].longitude1+","+t[F].latitude1,address:t[F].Address,tel:""};e.responseData[F]=k,"string"==typeof t[F].identity_card&&(t[F].sex=this.analyzeIDCard(t[F].identity_card).sexCode,t[F].age=this.GetAge(t[F].identity_card)),"女"==t[F].sex?(a.push(t[F]),C.push(t[F].age)):(i.push(t[F]),D.push(t[F].age)),"==居住情况=="==t[F].Residence_state||""==t[F].Residence_state||"其他"==t[F].Residence_state||null==t[F].Residence_state||"与陪护人员居住"==t[F].Residence_state||"与配偶居住"==t[F].Residence_state?s.push(t[F].Residence_state):"独居"==t[F].Residence_state?n.push(t[F].Residence_state):"空巢"==t[F].Residence_state?l.push(t[F].Residence_state):"与亲戚同居"==t[F].Residence_state||"与亲戚朋友居住"==t[F].Residence_state||"双居"==t[F].Residence_state?r.push(t[F].Residence_state):"与子女同居"==t[F].Residence_state||"与子女长住"==t[F].Residence_state||"与子女轮流居住"==t[F].Residence_state?o.push(t[F].Residence_state):"集中居住"==t[F].Residence_state?c.push(t[F].Residence_state):s.push(t[F].Residence_state),"离休"==t[F].oldman_type?d.push(t[F].oldman_type):"退休"==t[F].oldman_type?h.push(t[F].oldman_type):"特困"==t[F].oldman_type?u.push(t[F].oldman_type):"低保"==t[F].oldman_type?m.push(t[F].oldman_type):("其他"==t[F].oldman_type||"==老人类型=="==t[F].oldman_type||t[F].oldman_type,p.push(t[F].oldman_type)),"未婚"==t[F].marital_status?f.push(t[F].marital_status):"已婚"==t[F].marital_status?g.push(t[F].marital_status):"离异"==t[F].marital_status?v.push(t[F].marital_status):"丧偶"==t[F].marital_status?y.push(t[F].marital_status):("未说明"==t[F].marital_status||"==婚姻状态=="==t[F].marital_status||t[F].marital_status,b.push(t[F].marital_status)),"重度失能"==t[F].Healthy?x.push(t[F].Healthy):"轻度失能"==t[F].Healthy?S.push(t[F].Healthy):"中度失能"==t[F].Healthy?_.push(t[F].Healthy):(t[F].Healthy,w.push(t[F].Healthy))}let k=[{name:"其他",value:s.length?s.length:0},{name:"独居",value:n.length?n.length:0},{name:"空巢",value:l.length?l.length:0},{name:"与亲戚同居",value:r.length?r.length:0},{name:"与子女同居",value:o.length?o.length:0},{name:"集中居住",value:c.length?c.length:0}];e.chartRefererData.series[0].data=k,e.chartRefererData.series[1].data=k;let M=[{name:"离休",value:d.length?d.length:0},{name:"退休",value:h.length?h.length:0},{name:"特困",value:u.length?u.length:0},{name:"低保",value:m.length?m.length:0},{name:"其他",value:p.length?p.length:0}];e.statisticsElderlyTypes.series[0].data=M;let I=[{name:"未婚",value:f.length?f.length:0},{name:"已婚",value:g.length?g.length:0},{name:"离异",value:v.length?v.length:0},{name:"丧偶",value:y.length?y.length:0},{name:"未说明",value:b.length?b.length:0}];e.chartDougData.series[0].data=I;let O=[{name:"能力完好",value:w.length?w.length:0,radius:["40%","53%"]},{name:"轻度失能",value:S.length?S.length:0,radius:["32%","45%"]},{name:"中度失能",value:_.length?_.length:0,radius:["31%","47%"]},{name:"重度失能",value:x.length?x.length:0,radius:["31%","42%"]}];e.dataHealthy=O,e.updateHandler(O),e.histogram.series[0].name="男"+i.length+"人",e.histogram.series[1].name="女"+a.length+"人",e.histogram.legend.data[0]="男"+i.length+"人",e.histogram.legend.data[1]="女"+a.length+"人";let P=e.maleFemale(D),z=e.maleFemale(C);e.histogram.series[0].data=P,e.histogram.series[1].data=z},maleFemale(t){let e=[],a=[],i=[],s=[],n=[];for(let l=0;t.length>l;l++)t[l]<60&&e.push(t[l]),t[l]>=60&&t[l]<=70&&a.push(t[l]),t[l]>=70&&t[l]<=80&&i.push(t[l]),t[l]>=80&&t[l]<=90&&s.push(t[l]),t[l]>90&&n.push(t[l]);return[e.length,a.length,i.length,s.length,n.length]},maxmin(t){for(var e=t[0],a=t[0],i=1;i<t.length;i++)e<t[i]&&(e=t[i]),a>t[i]&&(a=t[i]);return{max:e,min:a}},updateHandler(t){this.healthStatistics.series[0].data=t,this.healthStatistics={...this.healthStatistics}},screenClick(t){this.screenStyle=t},handleChange(t){pt.log(t)},mapbaiduv(t){this.changingIsover.push({label:"当前定位"+t.cityname,value:"0"})}}},gt=ft,vt=(0,u.Z)(gt,i,s,!1,null,"2389825f",null),yt=vt.exports},82192:function(t){
/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/
(function(){"use strict";var e="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},a=t.exports,i=function(){for(var t,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,s=a.length,n={};i<s;i++)if(t=a[i],t&&t[1]in e){for(i=0;i<t.length;i++)n[a[0][i]]=t[i];return n}return!1}(),s={change:i.fullscreenchange,error:i.fullscreenerror},n={request:function(t,a){return new Promise(function(s,n){var l=function(){this.off("change",l),s()}.bind(this);this.on("change",l),t=t||e.documentElement;var r=t[i.requestFullscreen](a);r instanceof Promise&&r.then(l).catch(n)}.bind(this))},exit:function(){return new Promise(function(t,a){if(this.isFullscreen){var s=function(){this.off("change",s),t()}.bind(this);this.on("change",s);var n=e[i.exitFullscreen]();n instanceof Promise&&n.then(s).catch(a)}else t()}.bind(this))},toggle:function(t,e){return this.isFullscreen?this.exit():this.request(t,e)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,a){var i=s[t];i&&e.addEventListener(i,a,!1)},off:function(t,a){var i=s[t];i&&e.removeEventListener(i,a,!1)},raw:i};i?(Object.defineProperties(n,{isFullscreen:{get:function(){return Boolean(e[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[i.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(e[i.fullscreenEnabled])}}}),a?t.exports=n:window.screenfull=n):a?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}})()},60555:function(t,e,a){"use strict";a.d(e,{AM:function(){return c},Fj:function(){return n},Tt:function(){return r},mK:function(){return u},oR:function(){return l},pj:function(){return o},s0:function(){return h},vh:function(){return s},w1:function(){return d}});var i=a(84471);function s(t){return(0,i.Z)({url:"/admin/Index/dataIntegration",method:"get",params:{data:t}})}function n(t){return(0,i.Z)({url:"/admin/Index/mapIntegration",method:"post",data:{code:t}})}function l(t){return(0,i.Z)({url:"/admin/Index/mapPositioning",method:"post",data:t})}function r(t){return(0,i.Z)({url:"/admin/Index/getMapPositioning",method:"post",data:t})}function o(t){return(0,i.Z)({url:"/admin/Index/updateMapPg",method:"post",data:t})}function c(t){return(0,i.Z)({url:"/admin/Index/dateCallsList",method:"post",data:t})}function d(t){return(0,i.Z)({url:"/admin/Index/historyCallsList",method:"post",data:t})}function h(t){return(0,i.Z)({url:"/admin/Index/getPeopleList",method:"post",data:t})}function u(t){return(0,i.Z)({url:"/admin/Index/havePeopleList",method:"post",data:t})}}}]);